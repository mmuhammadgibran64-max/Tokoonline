<!DOCTYPE html>
<html lang="id">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Menu Utama - Gibran Store</title>
    <style>
        body { font-family: 'Segoe UI', sans-serif; background: #121212; color: white; margin: 0; padding-bottom: 150px; }
        .header { background: #1f1f1f; padding: 20px; text-align: center; border-bottom: 2px solid #ff9800; position: sticky; top: 0; z-index: 1000; }
        .container { padding: 15px; }
        
        /* Card Produk */
        .card { background: #1f1f1f; padding: 15px; border-radius: 12px; margin-bottom: 12px; border: 1px solid #333; display: flex; justify-content: space-between; align-items: center; }
        .info h4 { margin: 0; font-size: 15px; }
        .info p { color: #ff9800; margin: 5px 0 0 0; font-weight: bold; }
        .btn-add { background: #ff9800; color: black; border: none; padding: 10px 15px; border-radius: 8px; font-weight: bold; cursor: pointer; }

        /* Tombol Checkout Melayang */
        .floating-btn { 
            position: fixed; bottom: 80px; left: 15px; right: 15px; 
            background: #25D366; color: white; border: none; padding: 15px; 
            border-radius: 12px; font-weight: bold; font-size: 16px; 
            text-align: center; text-decoration: none; display: block;
            box-shadow: 0 4px 15px rgba(0,0,0,0.5); z-index: 999;
        }

        /* Navigasi Bawah */
        .bottom-nav { position: fixed; bottom: 0; left: 0; right: 0; background: #1f1f1f; display: flex; justify-content: space-around; padding: 10px 0; border-top: 1px solid #333; z-index: 1000; }
        .nav-item { text-decoration: none; color: #888; text-align: center; flex: 1; font-size: 11px; }
        .nav-item.active { color: #ff9800; }
        .nav-item i { display: block; font-style: normal; font-size: 20px; margin-bottom: 2px; }
    </style>
</head>
<body>

    <div class="header">
        <h2 style="margin:0; color:#ff9800;">Gibran Store</h2>
        <p style="font-size:12px; margin:5px 0 0 0;">Halo, <span id="user">Pelanggan</span>!</p>
    </div>

    <div class="container" id="menu-list">
        <script>
            const daftarProduk = [
                { nama: "Peye Kacang (Kecil)", harga: 5000 },
                { nama: "Peye Kacang (Besar)", harga: 10000 },
                { nama: "Slondok", harga: 20000 },
                { nama: "Opak", harga: 20000 },
                { nama: "Kacang", harga: 2000 },
                { nama: "Kripik Pedes", harga: 15000 },
                { nama: "Kue Sus Kering", harga: 15000 },
                { nama: "Reginang (isi 3)", harga: 5000 },
                { nama: "Aqua Galon", harga: 22000 }
            ];

            const container = document.getElementById('menu-list');
            daftarProduk.forEach(p => {
                container.innerHTML += `
                    <div class="card">
                        <div class="info">
                            <h4>${p.nama}</h4>
                            <p>Rp${p.harga.toLocaleString('id-ID')}</p>
                        </div>
                        <button class="btn-add" onclick="tambah('${p.nama}', ${p.harga})">Tambah</button>
                    </div>
                `;
            });
        </script>
    </div>

    <a href="pembayaran.html" class="floating-btn">üõí BAYAR SEKARANG (<span id="count">0</span>)</a>

    <div class="bottom-nav">
        <a href="dashboard.html" class="nav-item active"><i>üè†</i><span>Beranda</span></a>
        <a href="riwayat.html" class="nav-item"><i>üìú</i><span>Riwayat</span></a>
        <a href="pengaturan.html" class="nav-item"><i>‚öôÔ∏è</i><span>Profil</span></a>
    </div>

    <script>
        // Ambil nama user dari login
        document.getElementById('user').innerText = localStorage.getItem('userNama') || "Tamu";
        
        let keranjang = JSON.parse(localStorage.getItem('keranjang')) || [];
        updateCount();

        function tambah(nama, harga) {
            keranjang.push({ produk: nama, harga: harga });
            localStorage.setItem('keranjang', JSON.stringify(keranjang));
            updateCount();
            
            // Notifikasi simpel
            const notif = document.createElement('div');
            notif.innerText = nama + " ditambahkan!";
            notif.style = "position:fixed; top:80px; left:50%; transform:translateX(-50%); background:#ff9800; color:black; padding:10px 20px; border-radius:20px; font-weight:bold; z-index:2000;";
            document.body.appendChild(notif);
            setTimeout(() => notif.remove(), 2000);
        }

        function updateCount() {
            document.getElementById('count').innerText = keranjang.length;
        }
    </script>
</body>
</html>
