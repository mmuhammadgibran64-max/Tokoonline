<!DOCTYPE html>
<html lang="id">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Daftar Pelanggan - Gibran Store</title>
    <style>
        body { font-family: sans-serif; background: #121212; color: white; display: flex; justify-content: center; align-items: center; height: 100vh; margin: 0; }
        .box { background: #1f1f1f; padding: 30px; border-radius: 20px; border: 2px solid #ff9800; width: 85%; max-width: 350px; text-align: center; }
        input { width: 100%; padding: 12px; margin: 10px 0; border-radius: 10px; border: 1px solid #333; background: #222; color: white; box-sizing: border-box; }
        .btn { width: 100%; padding: 14px; background: #ff9800; border: none; border-radius: 10px; font-weight: bold; cursor: pointer; margin-top: 10px; }
    </style>
</head>
<body>
    <div class="box">
        <h2>PENDAFTARAN</h2>
        <input type="text" id="nama" placeholder="Nama Lengkap">
        <input type="number" id="wa" placeholder="Nomor WhatsApp">
        <input type="text" id="alamat" placeholder="Alamat Lengkap">
        <button id="btnReg" class="btn" onclick="prosesRegister()">DAFTAR SEKARANG</button>
        <p style="font-size: 12px; margin-top: 15px;">Sudah punya akun? <a href="login.html" style="color: #ff9800;">Login di sini</a></p>
    </div>

    <script>
        const SCRIPT_URL = 'https://script.google.com/macros/s/AKfycbwiu3kgn_DD9LP2x9KKis123tyVnBXdBQ8g6v75-2LdUzZwHAlF2h2IieSV4ME-ziGz0w/exec';

        async function prosesRegister() {
            const btn = document.getElementById('btnReg');
            const payload = {
                type: "REGISTER",
                nama: document.getElementById('nama').value,
                whatsapp: document.getElementById('wa').value,
                alamat: document.getElementById('alamat').value
            };

            if(!payload.nama || !payload.whatsapp || !payload.alamat) return alert("Lengkapi data dulu!");

            btn.innerText = "Mendaftarkan...";
            btn.disabled = true;

            await fetch(SCRIPT_URL, { method: 'POST', mode: 'no-cors', body: JSON.stringify(payload) });
            
            alert("Berhasil Daftar! Sekarang silakan Login.");
            window.location.href = 'login.html';
        }
    </script>
</body>
</html>



